(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{483:function(e,t,n){"use strict";n.d(t,"e",function(){return d}),n.d(t,"b",function(){return m}),n.d(t,"c",function(){return h}),n.d(t,"a",function(){return v}),n.d(t,"d",function(){return g});var r=n(149),a=n(150),o=n(153),u=n(151),c=n(152),i=n(522),s=n.n(i),l=n(1),f=n.n(l),b=n(154),p=n(155);function d(e,t){return new Promise(function(n,r){s.a.post(e,JSON.stringify(t),{headers:{"Content-type":"application/json"}}).then(function(e){n(e.data)}).catch(function(e){r(e)})})}function m(e,t){return new Promise(function(n,r){s.a.get(e,{params:t},{}).then(function(e){n(e.data)}).catch(function(e){r(e)})})}s.a.defaults.baseURL="http://baby.diigii.com",s.a.interceptors.request.use(function(e){return["/user/login"].includes(e.url)||(e.headers.token=JSON.parse(localStorage.getItem("userInfo")).token),e}),s.a.interceptors.response.use(function(e){if(3001!==e.data.error)return e;localStorage.removeItem("userInfo"),p.a.logout(),p.a.history.push("/login")});var h=console.log.bind(console);document.documentElement.clientWidth,document.documentElement.clientHeight;function v(e){var t;return Object(b.b)("store")(t=Object(b.c)(t=function(t){function n(e){var t;return Object(r.a)(this,n),t=Object(o.a)(this,Object(u.a)(n).call(this,e)),JSON.parse(localStorage.getItem("userInfo"))&&localStorage.getItem("role")&&t.props.store.login(),t.props.store.isLogin||null===t.props.store.history||t.props.store.history.push("/login"),t}return Object(c.a)(n,t),Object(a.a)(n,[{key:"render",value:function(){return f.a.createElement(e,this.props)}}]),n}(l.Component))||t)||t}var g=[{name:"\u5165\u7761\u6f5c\u4f0f\u671f\u5ef6\u957f",value:"problem_extended"},{name:"\u7761\u7720\u6301\u7eed\u65f6\u95f4\u4e0d\u89c4\u5f8b",value:"problem_irregular"},{name:"\u7761\u7720\u7126\u8651",value:"problem_anxious"},{name:"\u591c\u9192",value:"problem_awakening"},{name:"\u5f02\u6001\u7761\u7720",value:"problem_state"},{name:"\u7761\u7720\u547c\u5438\u969c\u788d",value:"problem_breathing"}]},490:function(e,t,n){"use strict";n.d(t,"l",function(){return a}),n.d(t,"b",function(){return o}),n.d(t,"o",function(){return u}),n.d(t,"m",function(){return c}),n.d(t,"d",function(){return i}),n.d(t,"k",function(){return s}),n.d(t,"c",function(){return l}),n.d(t,"a",function(){return f}),n.d(t,"f",function(){return b}),n.d(t,"q",function(){return p}),n.d(t,"j",function(){return d}),n.d(t,"e",function(){return m}),n.d(t,"p",function(){return h}),n.d(t,"h",function(){return v}),n.d(t,"n",function(){return g}),n.d(t,"g",function(){return O}),n.d(t,"i",function(){return j});var r=n(483);function a(e){return Object(r.b)("/user/login",e)}function o(e){return Object(r.b)("/baby/list",e)}function u(e){return Object(r.b)("/baby/save",e)}function c(e){return Object(r.b)("/baby/query",e)}function i(e){return Object(r.b)("/baby/delete",e)}function s(e){return Object(r.b)("/user/list",e)}function l(e){return Object(r.b)("/user/deactivate",e)}function f(e){return Object(r.b)("/user/active",e)}function b(e){return Object(r.b)("/user/delete",e)}function p(e){return Object(r.b)("/user/save",e)}function d(e){return Object(r.b)("checklist/solution/list",e)}function m(e){return Object(r.b)("/checklist/solution/delete",e)}function h(e){return Object(r.b)("/checklist/solution/save",e)}function v(e){return Object(r.b)("/baby/checklist/query",e)}function g(e){return Object(r.e)("/baby/checklistitem/save",e)}function O(e){return Object(r.b)("/baby/checklistitem/list",e)}function j(e){return Object(r.b)("/baby/checklist/report",e)}},529:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return r})},612:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(529);function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){Object(r.a)(e,t,n[t])})}return e}},738:function(e,t,n){"use strict";n.r(t);var r=n(612),a=n(529),o=n(149),u=n(150),c=n(153),i=n(151),s=n(152),l=n(156),f=n(1),b=n.n(f),p=(n(505),n(219)),d=n(46),m=n(746),h=n(748),v=n(163),g=n(30),O=n(483),j=n(490),y=(n(97),p.a.Item),I=d.a.Group,E=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(c.a)(this,Object(i.a)(t).call(this,e))).state={userInfo:n.props.location.state&&n.props.location.state.userInfo||{username:"",nickname:"",password:"",role:"user",state:1},isLoading:!1},Object(O.c)(n.state.userInfo),n.handleSave=n.handleSave.bind(Object(l.a)(Object(l.a)(n))),n}return Object(s.a)(t,e),Object(u.a)(t,[{key:"inputField",value:function(e,t,n){var r=this.state[e];r[t]=n,this.setState(Object(a.a)({},e,r))}},{key:"handleSave",value:function(){var e=this;this.setState({isLoading:!0},function(){var t=Object(r.a)({},e.state.userInfo);e.state.userInfo.id&&""===e.state.userInfo.password&&delete t.password,Object(j.q)(e.state.userInfo).then(function(t){0===t.error?m.a.success("\u4fdd\u5b58\u6210\u529f",1,function(){e.props.history.push("/index/manage")}):m.a.error("\u4fdd\u5b58\u7528\u6237\u4fe1\u606f\u5931\u8d25,\u8bf7\u7a0d\u540e\u518d\u8bd5\u6216\u68c0\u67e5\u670d\u52a1\u5668\u72b6\u6001!",1)}).catch(function(e){m.a.error("\u4fdd\u5b58\u7528\u6237\u4fe1\u606f\u5931\u8d25,\u8bf7\u7a0d\u540e\u518d\u8bd5\u6216\u68c0\u67e5\u670d\u52a1\u5668\u72b6\u6001!",1),Object(O.c)(e)}).finally(function(){e.setState({isLoading:!1})})})}},{key:"render",value:function(){var e=this;localStorage.getItem("role");return b.a.createElement("div",{className:"block"},b.a.createElement(h.a,null,b.a.createElement(h.a.Item,null,b.a.createElement("a",{href:"#",onClick:function(t){t.preventDefault(),e.props.history.push("/index/manage")}},"\u7528\u6237\u7ba1\u7406")),b.a.createElement(h.a.Item,null,this.state.userInfo.id?"\u7f16\u8f91\u7528\u6237":"\u6dfb\u52a0\u7528\u6237")),b.a.createElement(p.a,{style:{marginTop:50}},b.a.createElement(y,{label:"\u7528\u6237\u540d",labelCol:{span:2},wrapperCol:{span:10}},b.a.createElement(v.a,{style:{maxWidth:300},value:this.state.userInfo.username,onChange:function(t){e.inputField("userInfo","username",t.target.value)}})),b.a.createElement(y,{label:"\u6635\u79f0",labelCol:{span:2},wrapperCol:{span:10}},b.a.createElement(v.a,{style:{maxWidth:300},value:this.state.userInfo.nickname,onChange:function(t){e.inputField("userInfo","nickname",t.target.value)}})),b.a.createElement(y,{label:"\u5bc6\u7801",labelCol:{span:2},wrapperCol:{span:10}},b.a.createElement(v.a,{type:"password",placeholder:this.state.userInfo.id?"\u7f6e\u7a7a\u4e3a\u4e0d\u4fee\u6539":"",style:{maxWidth:300},value:this.state.userInfo.password,onChange:function(t){e.inputField("userInfo","password",t.target.value)}})),b.a.createElement(y,{label:"\u89d2\u8272",labelCol:{span:2},wrapperCol:{span:10}},b.a.createElement(I,{value:this.state.userInfo.role,onChange:function(t){e.inputField("userInfo","role",t.target.value)}},b.a.createElement(d.a,{value:"admin"},"\u7ba1\u7406\u5458"),b.a.createElement(d.a,{value:"user"},"\u7528\u6237"))),b.a.createElement(y,{label:"\u72b6\u6001",labelCol:{span:2},wrapperCol:{span:10}},b.a.createElement(I,{value:this.state.userInfo.state,onChange:function(t){e.inputField("userInfo","state",t.target.value)}},b.a.createElement(d.a,{value:1},"\u53ef\u7528"),b.a.createElement(d.a,{value:0},"\u4e0d\u53ef\u7528")))),b.a.createElement(g.a,{loading:this.state.isLoading,style:{marginLeft:"8.33333333%",marginTop:10},type:"primary",onClick:this.handleSave},"\u4fdd\u5b58"))}}]),t}(f.Component);t.default=E}}]);